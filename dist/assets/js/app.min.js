!function(){"use strict";angular.module("processStreet",[]).controller("uploadController",["$scope","CONFIG","$sce",function(a,e,t){a.videos=[],a.progressBar=$(".progressBar"),a.progressStyle={width:"0%"},a.progress=function(e,o){a.$apply(function(){a.progressValue=parseInt(o.loaded/o.total*100),a.progressStyle={width:a.progressValue+"%"}})},a.add=function(e,o){o.files[0].type.match(/^video\/.*$/)&&(a.upload=o.submit(),a.cancelOption=!0)},a.done=function(e,o){a.$apply(function(){a.video=t.trustAsResourceUrl("//fast.wistia.net/embed/iframe/"+o.result.hashed_id),a.cancelOption=!1})},a.cancel=function(){a.upload.abort(),a.cancelOption=!1,a.progressStyle={width:"0%"}},$(".uploader").fileupload({url:e.wistiaUrl,formData:{api_password:e.apiKey},add:a.add,done:a.done,progress:a.progress,cancel:a.cancel})}])}(),angular.module("processStreet").constant("CONFIG",{apiKey:"c279be242c1bdd613fa696928a5f18af84cb111df4884177f5dbb4b6597b6cc7",wistiaUrl:"https://upload.wistia.com",videoSrc:"//fast.wistia.net/embed/iframe/"});